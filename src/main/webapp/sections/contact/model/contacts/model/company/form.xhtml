<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">

	<!-- HEADER_TITLE -->
	<h:panelGroup layout="block" styleClass="padder clearfix m-b-small b-b"> 
		<h4 class="m-b m-t m-l"><span class="semi-bold"> <i class="icon-edit"> </i> <h:outputText value="#{message.model_title_company}"/></span></h4>
	</h:panelGroup>
	<!-- / HEADER_TITLE -->

	<!-- CONTENT_BODY -->
	<h:panelGroup layout="block" rendered="#{companyController.has()}" styleClass="col-md-12">
		<h:panelGroup layout="block" class="grid simple"> 
			<h:panelGroup layout="block" class="grid-body no-border">
		
				<h:panelGroup layout="block" class="row">
					<h:panelGroup layout="block" class="col-md-12">
						<h4>#{message.general_data}</h4>
						
						<h:panelGroup layout="block" class="row form-row">
							<h:panelGroup layout="block" class="col-md-6">
								<h:panelGroup layout="block" class="input-group transparent">
									<span class="input-group-addon">#{message.model_area_actuation}</span>
									<p:selectOneMenu value="#{companyController.bean.register.areaActuation}" required="true">  
							            <f:selectItems value="#{companyController.bean.register.areaActuationList()}" var="areaActuation" itemLabel="#{areaActuation.areaActuation}" itemValue="#{areaActuation}"/>  
							        </p:selectOneMenu>
							    </h:panelGroup> 
							</h:panelGroup>
							<h:panelGroup layout="block" class="col-md-6">
								<h:panelGroup layout="block" class="input-group transparent">
									<span class="input-group-addon">#{message.model_company_name}</span>
									<p:inputText label="#{message.model_company_name}" value="#{companyController.bean.register.companyName}" size="50" maxlength="50" styleClass="form-control parsley-validated"/>
								</h:panelGroup>
							</h:panelGroup>
						</h:panelGroup>
						
						<h:panelGroup layout="block" class="row form-row">
							<h:panelGroup layout="block" class="col-md-6">
								<h:panelGroup layout="block" class="input-group transparent">
									<span class="input-group-addon">#{message.model_cnpj}</span>
									<p:inputMask value="#{companyController.bean.register.cnpj}" required="true" mask="99.999.999/9999-99" size="20" maxlength="20" styleClass="form-control parsley-validated" />
								</h:panelGroup>
							</h:panelGroup>
							<h:panelGroup layout="block" class="col-md-6">
								<h:panelGroup layout="block" class="input-group transparent">
									<span class="input-group-addon">#{message.model_fancy_name}</span>
									<p:inputText label="#{message.model_fancy_name}" value="#{companyController.bean.register.fancyName}" size="50" maxlength="50" styleClass="form-control parsley-validated"/>
								</h:panelGroup>
							</h:panelGroup>
						</h:panelGroup>
						
						<h:panelGroup layout="block" class="row form-row">
							<h:panelGroup layout="block" class="col-md-6">
								<h:panelGroup layout="block" class="input-group transparent">
									<span class="input-group-addon">#{message.model_inscr_estadual}</span>
									<p:inputText label="#{message.model_inscr_estadual}" value="#{companyController.bean.register.inscrEstadual}"  size="11" maxlength="18" styleClass="form-control parsley-validated"/>
								</h:panelGroup>
							</h:panelGroup>
							<h:panelGroup layout="block" class="col-md-6">
								<h:panelGroup layout="block" class="input-group transparent">
									<span class="input-group-addon">#{message.model_inscr_municipal}</span>
									<p:inputText label="#{message.model_inscr_municipal}" value="#{companyController.bean.register.inscrMunicipal}" size="15" maxlength="20" styleClass="form-control parsley-validated"/>
								</h:panelGroup>
							</h:panelGroup>
						</h:panelGroup>
						
						<h:panelGroup layout="block" class="row form-row">
							<h:panelGroup layout="block" class="col-md-6">
								<h:panelGroup layout="block" class="input-group transparent">
									<span class="input-group-addon">#{message.model_phone_number}</span>
									<p:inputMask value="#{companyController.bean.register.phone.phoneNumber}" required="true" mask="(99) 9999-9999" size="15" maxlength="15" styleClass="form-control parsley-validated"/>
								</h:panelGroup>
							</h:panelGroup>
							<h:panelGroup layout="block" class="col-md-6">
								<h:panelGroup layout="block" class="input-group transparent">
									<span class="input-group-addon">#{message.model_site}</span>	
									<p:inputText label="#{message.model_site}" value="#{companyController.bean.register.site}" size="50" maxlength="50" styleClass="form-control parsley-validated"/>
								</h:panelGroup>
							</h:panelGroup>
						</h:panelGroup>
						
						<h:panelGroup layout="block" class="row form-row">
							<h:panelGroup layout="block" class="col-md-6">
								<h:panelGroup layout="block" class="input-group transparent">
									<span class="input-group-addon">#{message.model_facebook}</span>
									<p:inputText label="#{message.model_facebook}" value="#{companyController.bean.register.facebook}" size="70" styleClass="form-control parsley-validated"/>
								</h:panelGroup>
							</h:panelGroup>
							<h:panelGroup layout="block" class="col-md-6">	
								<h:panelGroup layout="block" class="input-group transparent">
									<span class="input-group-addon">#{message.model_twitter}</span>
									<p:inputText label="#{message.model_twitter}" value="#{companyController.bean.register.twitter}" size="50" styleClass="form-control parsley-validated"/>
								</h:panelGroup>
							</h:panelGroup>
						</h:panelGroup>
						
						<h:panelGroup layout="block" id="company-address-wrapper">							
							<ui:decorate template="/sections/layout/templates/partner/address/list.xhtml">
								<ui:param name="table" 				value="company" />
								<ui:param name="registerBean" 		value="#{companyController.bean.register}" />
								<ui:param name="controller" 		value="#{companyController}" />
								<ui:param name="addressController"  value="#{legalAddressController}" />
								
								<p:ajax event="rowSelect" 	listener="#{legalAddressController.onRowSelect}"   update="@form"/>  
						        <p:ajax event="rowUnselect" listener="#{legalAddressController.onRowUnselect}" update="@form"/>
							</ui:decorate>
							
							<ui:decorate template="/sections/layout/templates/partner/address/form.xhtml">
								<ui:param name="form" 				value="company" />
								<ui:param name="addressController"  value="#{legalAddressController}" />
							</ui:decorate>
						</h:panelGroup>
						
						<h:panelGroup layout="block" id="company-contact-wrapper">
							<ui:decorate template="/sections/layout/templates/partner/contact/list.xhtml">
								<ui:param name="table" 				value="company" />
								<ui:param name="legalRegisterBean" 	value="#{companyController.bean.register}" />
							
								<p:ajax event="rowSelect" 	listener="#{contactController.onRowSelect}"   update="@form"/>  
						        <p:ajax event="rowUnselect" listener="#{contactController.onRowUnselect}" update="@form"/>
							</ui:decorate>
						
							<ui:decorate template="/sections/layout/templates/partner/contact/form.xhtml">
								<ui:param name="form" value="company" />
							</ui:decorate>
						</h:panelGroup>
						
					</h:panelGroup>
				</h:panelGroup>
				
				<h:panelGroup layout="block" class="form-actions">
					<h:panelGroup layout="block" class="pull-right">
						<p:commandButton value="#{message.action_save}"   actionListener="#{companyController.save()}" 	styleClass="btn btn-primary btn-cons" update="@form" action="#{registerController.setCreate(false)}" style="margin-left: 5px;" type="push"/>
						<p:commandButton value="#{message.action_cancel}" actionListener="#{companyController.clean()}" styleClass="btn btn-white btn-cons"   update="@form" action="#{registerController.setCreate(false)}" style="margin-left: 5px;" immediate="true" />
					</h:panelGroup>
			  	</h:panelGroup>
			  	
			</h:panelGroup>
		</h:panelGroup>
	</h:panelGroup>
	<!-- / CONTENT_BODY -->
	
</ui:composition>